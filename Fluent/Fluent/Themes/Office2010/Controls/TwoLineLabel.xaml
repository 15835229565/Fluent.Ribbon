<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:Fluent="clr-namespace:Fluent">
  <Style x:Key="TwoLineLabelStyle" TargetType="{x:Type Fluent:TwoLineLabel}" >
  	<Setter Property="Template" Value="{DynamicResource TwoLineLabelControlTemplate}"/>
  </Style>
  <ControlTemplate x:Key="TwoLineLabelControlTemplate" TargetType="{x:Type Fluent:TwoLineLabel}">
  	<TextBlock TextWrapping="Wrap" x:Name="PART_TextBlock" MinWidth="40" TextAlignment="Center" HorizontalAlignment="Center" VerticalAlignment="Center">
		<Run x:Name="PART_TextRun"/>
		<InlineUIContainer x:Name="PART_Glyph">
			<Border Height="16" Width="5" MinHeight="16" MaxHeight="16">
			<Path x:Name="path" Width="5" Height="3" StrokeThickness="0" Data="M0,0L5,0 2.5,3z" HorizontalAlignment="Center" VerticalAlignment="Bottom" Margin="0,0,0,2"  RenderOptions.BitmapScalingMode="NearestNeighbor" SnapsToDevicePixels="True" Fill="{TemplateBinding Foreground}"/>
			</Border>
		</InlineUIContainer>		
	</TextBlock>
  	<ControlTemplate.Triggers>
  		<Trigger Property="HasTwoLines" Value="False">
  			<Setter Property="TextWrapping" TargetName="PART_TextBlock" Value="NoWrap"/>
  			<Setter Property="TextAlignment" TargetName="PART_TextBlock" Value="Left"/>
  			<Setter Property="HorizontalAlignment" TargetName="PART_TextBlock" Value="Left"/>
  		</Trigger>
  		<Trigger Property="HasGlyph" Value="False">
  			<Setter Property="Visibility" TargetName="path" Value="Collapsed"/>
  		</Trigger>
  	</ControlTemplate.Triggers>
  </ControlTemplate> 
</ResourceDictionary>